spring:  
  application:
    name: msa2-zuul-server
  sleuth:
    sampler:
      probability: 1.0    #얼마나 많은 비율로 zipkin에 송신하는 transaction 비율(Default 0.1(10%), 설정 1.0(100%))
  zipkin:
    base-url: http://msa2-zipkin-server:9411 #ZipKin Server      

  cloud:
    kubernetes:
#      config:
#        enabled: true
#      reload:
#        enabled: true
#        mode: polling
#        strategy: RESTART_CONTEXT
        
      discovery:
        all-namespaces: true
        #enabled: false        
              
server:
  port: 9090
          
#Zuul Routing    
zuul:
  ignored-service: "*"            #zuul의 라우팅 목록을 제외하고는 ignore
  #prefix: /api                   #Zuul에 의해 routing 되는 모든 service의 Endpoint를 /api/~ 로 조합
  routes:
    msa2-svc-member:               #routing id
      path: /member/**            #zuul context root
      serviceId: msa2-svc-member   #spring application name
      stripPrefix: false  

    msa2-svc-order: 
      path: /order/**  
      serviceId: msa2-svc-order   
      stripPrefix: false  

hystrix:
  command:
    member:
      isolation:
        thread:
          timeoutInMilliseconds: 600000      
      
management:
  endpoint:
    restart:
      enabled: true
    routes:
      enabled: false
    